<!-- Sidebar Container -->
<div
  class="geist bg-neutral-200 not-even:fixed top-0 h-full shadow-2xl z-40 transition-all duration-300 ease-in-out border-r border-white/20 overflow-auto mt-4 ml-2 mr-2 mb-2 rounded-2xl"
  [class.translate-x-0]="isOpen()"
  [class.-translate-x-full]="!isOpen() && position() === 'left'"
  [class.translate-x-full]="!isOpen() && position() === 'right'"
  [class.left-0]="position() === 'left'"
  [class.right-0]="position() === 'right'"
  [style.width]="width()"
>
  <div
    class="flex items-center justify-between p-6 border-b border-white/20"
  >
    <p class="text-lg font-bold cursor-pointer text-neutral-800">RightWatts</p>
    <button
      (click)="closeSidebar()"
      class="p-2 rounded-lg hover:bg-slate-700/50 transition-colors duration-200 group"
    >
      <svg
        class="w-5 h-5 group-hover:text-white transition-colors text-neutral-600"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        ></path>
      </svg>
    </button>
  </div>

  <!-- Sidebar Content -->
  <div class="flex-1 overflow-y-auto p-6 space-y-4">
    <!-- Navigation Items -->
    <nav class="space-y-2">
      <a
        (click)="handleNavigation('device')"
        class="flex border border-neutral-600/20 items-center cursor-pointer space-x-3 px-4 py-3 rounded-lg hover:bg-neutral-300 transition-all duration-200 group"
      >
        <svg
          class="w-5 h-5 text-neutral-600 group-hover:text-blue-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"
          ></path>
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"
          ></path>
        </svg>
        <span class="text-sm text-neutral-700">Modbus Device</span>
      </a>

      <a
        (click)="handleNavigation('modbus-server')"
        class="border border-neutral-600/20 flex items-center cursor-pointer space-x-3 px-4 py-3 rounded-lg hover:bg-neutral-300 transition-all duration-200 group"
      >
        <svg
          class="w-5 h-5 text-neutral-600 group-hover:text-green-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
          ></path>
        </svg>
        <span class="text-sm text-neutral-700">Openmuc Server</span>
      </a>
    </nav>
  </div>
</div>

<!-- Toggle Button (when sidebar is closed) -->
<button
  *ngIf="!isOpen()"
  (click)="toggleSidebar()"
  class="fixed top-5 z-50 p-1 bg-neutral-200 text-neutral-600 rounded-md shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 text-[10px]"
  [class.left-4]="position() === 'left'"
  [class.right-4]="position() === 'right'"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="size-5"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
    />
  </svg>
</button>
